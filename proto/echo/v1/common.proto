syntax = "proto3";

package echo.v1;

import "buf/validate/validate.proto";
import "google/protobuf/timestamp.proto";

message Money {
  // Minor units (e.g., cents). Negative values represent outflows.
  int64 amount_minor = 1 [(buf.validate.field).int64 = {
    gte: -900000000000000
    lte: 900000000000000
  }];

  // ISO-4217 currency code, e.g. "USD".
  string currency_code = 2 [(buf.validate.field).string = {
    pattern: "^[A-Z]{3}$"
  }];
}

message PageRequest {
  int32 page_size = 1 [(buf.validate.field).int32 = { gte: 1 lte: 200 }];
  string page_token = 2 [(buf.validate.field).string = { max_len: 512 }];
}

message PageResponse {
  string next_page_token = 1 [(buf.validate.field).string = { max_len: 512 }];
}

message TimeRange {
  google.protobuf.Timestamp start_time = 1 [(buf.validate.field).required = true];
  google.protobuf.Timestamp end_time = 2 [(buf.validate.field).required = true];
}
